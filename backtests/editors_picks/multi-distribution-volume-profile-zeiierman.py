"""
OpenClaw Backtest Results: multi-distribution-volume-profile-zeiierman
============================================================

--- SPY ---
  ERROR: object of type 'TvStrategy' has no len()

--- BTC ---
  ERROR: object of type 'TvStrategy' has no len()

--- QQQ ---
  ERROR: object of type 'TvStrategy' has no len()

============================================================
Unoptimized run. No parameter tuning applied.

Source: TradingView Community Script â€” multi-distribution-volume-profile-zeiierman
Generated by OpenClaw TradingView Pipeline
"""

import numpy as np
import pandas as pd
from backtesting import Backtest, Strategy


class TvStrategy(Strategy):
    def init(self):
        pass

    def next(self):
        if not self.position:
            if len(self) > 20:
                self.buy()
        else:
            if len(self) % 50 == 0:
                self.position.close()