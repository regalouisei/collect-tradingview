// This source code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/
// Â© et20tradeview

//@version=6
indicator('EMA (Fractional Length EMA)[A II]', overlay=true)
source = input(close, title="Source")
float length = input.float(defval= 1 , minval=0.1, step=0.1)

pine_ema(src, length) => 
    alpha = 2 / (length + 1)
    sum = close
    
    //The original code by Tradingview
    // sum = 0
    //sum := na(sum[1]) ? sma(src, length) : alpha * src + (1 - alpha) * nz(sum[1])
    
    sum := alpha * src + (1 - alpha) * nz(sum[1])
    
plot(pine_ema(source, length), "EMA", color=color.blue)
