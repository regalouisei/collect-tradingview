//@version=5
indicator("EMA 20 & EMA 50 Touch Alert", overlay=true)

// EMA Calculation
ema20 = ta.ema(close, 20)
ema50 = ta.ema(close, 50)

// Plot EMAs
plot(ema20, color=color.green, linewidth=2, title="EMA 20")
plot(ema50, color=color.red, linewidth=2, title="EMA 50")

// Candle Touch Condition
touchEMA20 = low <= ema20 and high >= ema20
touchEMA50 = low <= ema50 and high >= ema50

// Alert Conditions
alertcondition(touchEMA20, title="EMA 20 Touch", message="Price touched EMA 20")
alertcondition(touchEMA50, title="EMA 50 Touch", message="Price touched EMA 50")

// Visual Signal
plotshape(touchEMA20, style=shape.circle, location=location.belowbar, color=color.green, size=size.tiny, title="Touch EMA 20")
plotshape(touchEMA50, style=shape.circle, location=location.abovebar, color=color.red, size=size.tiny, title="Touch EMA 50")
