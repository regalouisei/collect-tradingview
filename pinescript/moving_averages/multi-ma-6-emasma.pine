//@version=6
indicator(
     title     = "Multi MA 6 (EMA/SMA)",
     shorttitle= "Multi MA 6",
     overlay   = true
)
// Author: avigr8_hak

//──────────────────────────────────────────────────────────────────────────────
// Only two types
//──────────────────────────────────────────────────────────────────────────────
string T_EMA = "EMA"
string T_SMA = "SMA"

// MA function (safe to keep as a function)
f_ma(series float src, int len, string typ) =>
    int L = math.max(len, 1)
    switch typ
        T_EMA => ta.ema(src, L)
        T_SMA => ta.sma(src, L)
        => na

//──────────────────────────────────────────────────────────────────────────────
// INPUTS (Top-level, because group/inline require const strings in v6) 
//──────────────────────────────────────────────────────────────────────────────

// SLOT 1
bool   on1   = input.bool(true,  "Enable", group="MA 1", inline="MA1")
string typ1  = input.string(T_EMA, "Type", options=[T_EMA, T_SMA], group="MA 1", inline="MA1")
int    len1  = input.int(9,      "Len", minval=1, group="MA 1", inline="MA1")
series float src1 = input.source(close, "Source", group="MA 1")
int    w1    = input.int(2,      "Width", minval=1, maxval=5, group="MA 1", inline="S1")
color  col1  = input.color(color.aqua, "", group="MA 1", inline="S1")

// SLOT 2
bool   on2   = input.bool(true,  "Enable", group="MA 2", inline="MA2")
string typ2  = input.string(T_EMA, "Type", options=[T_EMA, T_SMA], group="MA 2", inline="MA2")
int    len2  = input.int(21,     "Len", minval=1, group="MA 2", inline="MA2")
series float src2 = input.source(close, "Source", group="MA 2")
int    w2    = input.int(2,      "Width", minval=1, maxval=5, group="MA 2", inline="S2")
color  col2  = input.color(color.orange, "", group="MA 2", inline="S2")

// SLOT 3
bool   on3   = input.bool(true,  "Enable", group="MA 3", inline="MA3")
string typ3  = input.string(T_EMA, "Type", options=[T_EMA, T_SMA], group="MA 3", inline="MA3")
int    len3  = input.int(50,     "Len", minval=1, group="MA 3", inline="MA3")
series float src3 = input.source(close, "Source", group="MA 3")
int    w3    = input.int(2,      "Width", minval=1, maxval=5, group="MA 3", inline="S3")
color  col3  = input.color(color.yellow, "", group="MA 3", inline="S3")

// SLOT 4
bool   on4   = input.bool(true,  "Enable", group="MA 4", inline="MA4")
string typ4  = input.string(T_EMA, "Type", options=[T_EMA, T_SMA], group="MA 4", inline="MA4")
int    len4  = input.int(100,    "Len", minval=1, group="MA 4", inline="MA4")
series float src4 = input.source(close, "Source", group="MA 4")
int    w4    = input.int(2,      "Width", minval=1, maxval=5, group="MA 4", inline="S4")
color  col4  = input.color(color.fuchsia, "", group="MA 4", inline="S4")

// SLOT 5
bool   on5   = input.bool(true,  "Enable", group="MA 5", inline="MA5")
string typ5  = input.string(T_EMA, "Type", options=[T_EMA, T_SMA], group="MA 5", inline="MA5")
int    len5  = input.int(200,    "Len", minval=1, group="MA 5", inline="MA5")
series float src5 = input.source(close, "Source", group="MA 5")
int    w5    = input.int(2,      "Width", minval=1, maxval=5, group="MA 5", inline="S5")
color  col5  = input.color(color.lime, "", group="MA 5", inline="S5")

// SLOT 6
bool   on6   = input.bool(true,  "Enable", group="MA 6", inline="MA6")
string typ6  = input.string(T_EMA, "Type", options=[T_EMA, T_SMA], group="MA 6", inline="MA6")
int    len6  = input.int(400,    "Len", minval=1, group="MA 6", inline="MA6")
series float src6 = input.source(close, "Source", group="MA 6")
int    w6    = input.int(2,      "Width", minval=1, maxval=5, group="MA 6", inline="S6")
color  col6  = input.color(color.gray, "", group="MA 6", inline="S6")

//──────────────────────────────────────────────────────────────────────────────
// CALC + PLOT
//──────────────────────────────────────────────────────────────────────────────
ma1 = on1 ? f_ma(src1, len1, typ1) : na
ma2 = on2 ? f_ma(src2, len2, typ2) : na
ma3 = on3 ? f_ma(src3, len3, typ3) : na
ma4 = on4 ? f_ma(src4, len4, typ4) : na
ma5 = on5 ? f_ma(src5, len5, typ5) : na
ma6 = on6 ? f_ma(src6, len6, typ6) : na

plot(ma1, "MA 1", color=col1, linewidth=w1)
plot(ma2, "MA 2", color=col2, linewidth=w2)
plot(ma3, "MA 3", color=col3, linewidth=w3)
plot(ma4, "MA 4", color=col4, linewidth=w4)
plot(ma5, "MA 5", color=col5, linewidth=w5)
plot(ma6, "MA 6", color=col6, linewidth=w6)
