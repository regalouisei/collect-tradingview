// This Pine Script® code is subject to the terms of the Mozilla Public License 2.0
// © AquaTickTrader

//@version=6
//──────────────────────────────────────────────────────────────────────────────
//  [TL5 1-min Scalping Tool] MTF SMA8 & MTF ALMA30
//──────────────────────────────────────────────────────────────────────────────
//  Author      : © AquaTickTrader
//  Version     : 1
//  Pine Version: 6
//──────────────────────────────────────────────────────────────────────────────
//
//  DESCRIPTION
//  ────────────────────────────────────────────────────────────────────────────
//  The TL5 1-min Scalping Tool is a multi-length moving average framework
//  designed to visualize short, medium, and higher timeframe trend structure
//  directly on a 1-minute chart.
//
//  ⚠️ RECOMMENDED TIMEFRAME:
//  This script is intended for use on the 1-minute (or a lower) chart. The SMA and ALMA
//  lengths simulate higher timeframe structure when applied to 1-minute data.
//
//  Using other timeframes will shift the structural mapping, as the lengths
//  are fixed and not dynamically adjusted.
//
//
//
//  INCLUDED MOVING AVERAGES
//  ────────────────────────────────────────────────────────────────────────────
//  SIMPLE MOVING AVERAGES (SMA)
//    • SMA 8     → Micro structure (1m)
//    • SMA 40    → Approx. 5m structure
//    • SMA 120   → Approx. 15m structure
//    • SMA 480   → Approx. 60m structure
//
//  ARNAUD LEGOUX MOVING AVERAGES (ALMA)
//    • ALMA 30    → Micro momentum smoothing (1m)
//    • ALMA 150   → Approx. 5m momentum bias
//    • ALMA 450   → Approx. 15m momentum structure
//    • ALMA 1800  → Approx. 60m higher timeframe bias
//
//  NOTE:
//  All mappings assume the script is applied to the 1-minute timeframe.
//
//
//
//  VISUAL LOGIC
//  ────────────────────────────────────────────────────────────────────────────
//  • SMA lines turn GREEN when rising and ORANGE when falling
//  • ALMA lines turn BLUE when rising and RED when falling
//  • Line thickness increases with timeframe significance
//  • No signals, alerts, or repainting logic included
//
//
//
//  HOW TO USE
//  ────────────────────────────────────────────────────────────────────────────
//  • Apply on the 1-minute  (or a lower) timeframe
//  • Identify trend alignment across multiple lengths
//  • Trade pullbacks in the direction of stacked averages
//    → Ideal for continuation trend regimes
//  • Use SMA for structural confirmation
//  • Use ALMA for smoother momentum bias
//
//  When shorter averages are above longer ones and all are rising,
//  trend strength and alignment increases. This helps traders
//  take advantage of pullbacks while remaining in the dominant trend.
//
//
//
//  BEST SUITED FOR
//  ────────────────────────────────────────────────────────────────────────────
//  • 1-minute scalping
//  • Intraday trading
//  • Futures
//  • Indices
//  • XAUUSD / Gold
//  • Multi-timeframe trend alignment
//
//
//
//  IMPORTANT
//  ────────────────────────────────────────────────────────────────────────────
//  This indicator is a trend visualization tool.
//  It does NOT generate buy/sell signals.
//  Always combine with proper risk management.
//
//──────────────────────────────────────────────────────────────────────────────

indicator("[TL5 1-min Scalping Tool] MTF SMA8 & MTF ALMA30", timeframe = "1", overlay = true)

// ─────────────────────────────────────────────────────────────────────────────
// SMA SECTION
// ─────────────────────────────────────────────────────────────────────────────

sma8   = ta.sma(close, 8)
sma24   = ta.sma(close, 24)
sma40  = ta.sma(close, 40)
sma120 = ta.sma(close, 120)
sma480 = ta.sma(close, 480)

plot(sma8,   title="SMA 8",   color = sma8 > sma8[1] ? color.green  : color.orange, linewidth = 2)
plot(sma24,   title="SMA 24",   color = sma24 > sma24[1] ? color.green  : color.orange, linewidth = 3)
plot(sma40,  title="SMA 40",  color = sma40 > sma40[1] ? color.green : color.orange, linewidth = 4)
plot(sma120, title="SMA 120", color = sma120 > sma120[1] ? color.green : color.orange, linewidth = 5)
plot(sma480, title="SMA 480", color = sma480 > sma480[1] ? color.green : color.orange, linewidth = 6)

// ─────────────────────────────────────────────────────────────────────────────
// ALMA SECTION
// ─────────────────────────────────────────────────────────────────────────────

alma30   = ta.alma(close, 30, 0.85, 8)
alma90   = ta.alma(close, 90, 0.85, 8)
alma150  = ta.alma(close, 150, 0.85, 8)
alma450  = ta.alma(close, 450, 0.85, 8)
alma1800 = ta.alma(close, 1800, 0.85, 8)

plot(alma30,   title="ALMA 30",   color = alma30 > alma30[1] ? color.blue : color.red, linewidth = 2)
plot(alma90,   title="ALMA 90",   color = alma90 > alma90[1] ? color.blue : color.red, linewidth = 3)
plot(alma150,  title="ALMA 150",  color = alma150 > alma150[1] ? color.blue : color.red, linewidth = 4)
plot(alma450,  title="ALMA 450",  color = alma450 > alma450[1] ? color.blue : color.red, linewidth = 5)
plot(alma1800, title="ALMA 1800", color = alma1800 > alma1800[1] ? color.blue : color.red, linewidth = 6)

//========================
//Ichimoku Cloud
conversionPeriods = input.int(9, minval=1, title="Conversion Line Length")
basePeriods = input.int(26, minval=1, title="Base Line Length")
laggingSpan2Periods = input.int(52, minval=1, title="Leading Span B Length")
displacement = input.int(26, minval=1, title="Lagging Span")
donchian(len) => math.avg(ta.lowest(len), ta.highest(len))
conversionLine = donchian(conversionPeriods)
baseLine = donchian(basePeriods)
leadLine1 = math.avg(conversionLine, baseLine)
leadLine2 = donchian(laggingSpan2Periods)
p1 = plot(leadLine1, offset = displacement - 1, color = leadLine1 > leadLine2 ? color.new(color.lime, 0) : color.new(color.red, 0), title="Leading Span Green A", linewidth = 3)
p2 = plot(leadLine2, offset = displacement - 1, color = leadLine1 > leadLine2 ? color.new(color.lime, 0) : color.new(color.red, 0), title="Leading Span Red B", linewidth = 3)
fill(p1, p2, title = "Cloud Fill", color = leadLine1 > leadLine2 ? color.new(color.lime, 70) : color.new(color.red, 70))
