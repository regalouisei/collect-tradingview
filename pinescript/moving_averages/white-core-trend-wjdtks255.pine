// This Pine ScriptÂ® code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/
// Â© wjdtks255

//@version=5
// Final Version: Global Professional Edition
// Author: wjdtks255
indicator("White Core Trend [wjdtks255]", overlay=true, precision=2)

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ðŸ“Œ 1. Configuration (Visual & Logic)
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
gp_logic = "CORE LOGIC SETTINGS"
// Removed incompatible 'help' argument to fix the red error line
hmaLen   = input.int(80, "Trend Sensitivity (HMA)", minval=10, group=gp_logic)

gp_visual = "VISUAL CONFIGURATION"
showBox   = input.bool(true, "Display Entry Reference Line", group=gp_visual)
lineColor = input.color(color.white, "Core Line Color", group=gp_visual)
bullColor = input.color(#00ff00, "Bullish Signal Color", group=gp_visual)
bearColor = input.color(#ff0000, "Bearish Signal Color", group=gp_visual)

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ðŸ“Œ 2. Strategy Engine: Confirmed Breakout
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
whiteLine = ta.hma(close, hmaLen)

// Signal Logic: Entry on confirmed candle close above/below HMA
longSig  = ta.crossover(close, whiteLine)
shortSig = ta.crossunder(close, whiteLine)

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ðŸ“Œ 3. Visualization & Plotting
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
plot(whiteLine, "White Core Line", color=lineColor, linewidth=3)

plotshape(longSig,  title="Bullish Entry", style=shape.triangleup,   location=location.belowbar, color=bullColor, size=size.small)
plotshape(shortSig, title="Bearish Entry", style=shape.triangledown, location=location.abovebar, color=bearColor, size=size.small)

var float entryPrice = na
if longSig or shortSig
    entryPrice := close

plot(showBox ? entryPrice : na, "Entry Level Anchor", color=color.new(lineColor, 70), style=plot.style_linebr, linewidth=1)

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ðŸ“Œ 4. Alerts
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
alertcondition(longSig,  "Bullish Trend Shift", "White Core: Long Signal Confirmed")
alertcondition(shortSig, "Bearish Trend Shift", "White Core: Short Signal Confirmed")
