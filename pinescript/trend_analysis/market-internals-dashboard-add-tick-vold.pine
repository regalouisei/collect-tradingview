//@version=5
indicator("Market Internals Dashboard [Gemini]", shorttitle="INTERNALS", overlay=false)

// 1. DATA PULL
add  = request.security("USI:ADD", timeframe.period, close)
vold = request.security("USI:VOLD", timeframe.period, close)
tick = request.security("USI:TICK", timeframe.period, close)

// 2. PLOT ADD (Line - Breadth Context)
plot_add = plot(add, color=add > 0 ? color.green : color.red, linewidth=2, title="ADD (Breadth)")
hline(1000, "Bullish Extreme", color=color.new(color.green, 50), linestyle=hline.style_dotted)
hline(-1000, "Bearish Extreme", color=color.new(color.red, 50), linestyle=hline.style_dotted)
hline(0, "Neutral Line", color=color.gray)

// 3. PLOT TICK (Background Panic/Exhaustion Highlights)
bgcolor(tick > 1000 ? color.new(color.green, 85) : tick < -1000 ? color.new(color.red, 85) : na)

// 4. PLOT VOLD (Gradient Clouds - Volume Flow)
fill_color = vold > 0 ? color.new(color.green, 90) : color.new(color.red, 90)
fill(plot_add, plot(0, display=display.none), color=fill_color, title="VOLD Flow")
