// This Pine Script® code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/
// © audrius_exe

//@version=6
indicator("ATR %", shorttitle="ATR %", timeframe="", overlay=false)

atr_length = input.int(20, "ATR Period", minval=1)

atr_value = ta.atr(atr_length)
atr_percent = (atr_value / close) * 100
atr_ema = ta.ema(atr_percent, atr_length)
plot(atr_percent, "ATR %", color=color.blue, linewidth=2, precision = 2)
plot(atr_ema, "ATR EMA", color=color.new(color.yellow, 20), linewidth=1, precision = 2)
hline(0, "Zero", color=color.new(color.white, 50), linestyle=hline.style_solid)
