// This Pine Script™ code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/
// © unicorpusstocks

//@version=6
indicator("indicator Calibration", "indc cal", false, format.inherit, 3)

import unicorpusstocks/NormalizedIndicators/1 as indc


//groups
//main
group_source = "Source"
use = "use indicator"

//indicators
group_bbpct = "BBPct"
group_noros = "NorosTrendRibbonEMA"
group_rsi = "RSI"
group_vidya = "Vidya"
group_hullsuite = "HullSuite"
group_trendcon = "TrendContinuation"
group_leonidas = "LeonidasTrendFollowingSystem"
group_trama = "TRAMA"

//===================================
//inputs

//Source
src = input.source(close, "Source", "Insert the source of the indicator", group = group_source)


use_bbpct = input.bool(true, "use_bbpct", group = use)
use_noros = input.bool(true, "use_noros", group = use)
use_rsi = input.bool(true, "use_rsi", group = use)
use_vidya = input.bool(true, "use_vidya", group = use)
use_hull = input.bool(true, "use_hull", group = use)
use_trendcon = input.bool(true, "use_trendcon", group = use)
use_leonidas = input.bool(true, "use_leonidas", group = use)
use_trama = input.bool(true, "use_trama", group = use)




//BBPct
bbpct_val1 = input.int(20, "val 1", group = group_bbpct)
bbpct_val2 = input.int(2, "val 2", group = group_bbpct)

//NorosTrendRibbonEMA
noros_val1 = input.int(20, "val 1", group = group_noros)

//RSI
rsi_val1 = input.int(9, "val 1", group = group_rsi)
rsi_val2 = input.int(4, "val 2", group = group_rsi)

//Vidya
vidya_val1 = input.int(30, "val 1", group = group_vidya)
vidya_val2 = input.int(9, "val 2", group = group_vidya)

//HullSuite
hull_val1 = input.int(55, "val 1", group = group_hullsuite)
hull_val2 = input.int(1, "val 2", group = group_hullsuite)

//TrendContinuation
trendcon_val1 = input.int(50, "val 1", group = group_trendcon)
trendcon_val2 = input.int(25, "val 2", group = group_trendcon)

//LeonidasTrendFollowingSystem
leonidas_val1 = input.int(21, "val 1", group = group_leonidas)
leonidas_val2 = input.int(10, "val 2", group = group_leonidas)

//TRAMA
trama_val1 = input.int(50, "val 1", group = group_trama)


//setting indicators

//array for data collection
indicators = array.new_float(8)

//getiing indicator values
if use_bbpct
    bbpct = indc.BBPct(bbpct_val1, bbpct_val2, src)
    indicators.set(0, bbpct)

if use_noros
    noros = indc.NorosTrendRibbonEMA(noros_val1, src)
    indicators.set(1, noros)

if use_rsi
    rsi = indc.RSI(rsi_val1, src, rsi_val2)
    indicators.set(2, rsi)

if use_vidya
    vidya = indc.Vidya(src, vidya_val1, vidya_val2)
    indicators.set(3, vidya)

if use_hull
    hull = indc.HullSuite(hull_val1, src, hull_val2)
    indicators.set(4, hull)

if use_trendcon
    trendcon = indc.TrendContinuation(trendcon_val1, trendcon_val2, src)
    indicators.set(5, trendcon)

if use_leonidas
    leonidas = indc.LeonidasTrendFollowingSystem(src, leonidas_val1, leonidas_val2)
    indicators.set(6, leonidas)

if use_trama
    trama = indc.TRAMA(src, trama_val1)
    indicators.set(7, trama)


plot(indicators.avg(), "Inicator Calibration output", #ff9900, 2, plot.style_line)


hline(0, "midline", #a3a3a350)
hline(-1, "lower", #f90000)
hline(1, "upper", #90ff00)
