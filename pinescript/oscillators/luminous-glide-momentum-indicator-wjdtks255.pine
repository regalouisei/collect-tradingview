// This Pine Script® code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/
// © wjdtks255

//@version=5
indicator("Luminous Glide Momentum Indicator [wjdtks255]", overlay=false, max_lines_count=500, max_boxes_count=500)
// update description
// === User Inputs ===
groupFilter = "Smoothing Settings"
groupMovingAvg = "MA Settings"
groupVisualization = "Visual Settings"
groupCandleColor = "Candle Color Options"

smoothLen = input.int(7, "Glide Smoothing Length", minval=1, group=groupFilter)
fastMALen = input.int(18, "Fast MA Length", minval=1, group=groupMovingAvg)
slowMALen = input.int(45, "Slow MA Length", minval=1, group=groupMovingAvg)
src = input(close, "Price Source", group=groupMovingAvg)

signalLen = input.int(22, "Signal Line Length", minval=1, group=groupFilter)

// Colors
histUpCol = input.color(color.new(color.teal, 0), "Histogram Up Color", group=groupVisualization)
histDownCol = input.color(color.new(color.orange, 0), "Histogram Down Color", group=groupVisualization)
oscCol = input.color(color.blue, "Oscillator Line Color", group=groupVisualization)
sigCol = input.color(color.fuchsia, "Signal Line Color", group=groupVisualization)
zeroCol = input.color(color.silver, "Zero Line Color", group=groupVisualization)

enableCandleClr = input.bool(true, "Enable Candle Coloring", group=groupCandleColor)

// === Unique Glide Smoother Function ===
luminousGlide(src, len) =>
    alpha = 2.0 / (len + 1)
    var float glide = na
    glide := na(glide[1]) ? src : alpha * src + (1 - alpha) * glide[1]

// === Calculation ===
glidePrice = luminousGlide(src, smoothLen)

fastMA = ta.ema(glidePrice, fastMALen)
slowMA = ta.ema(glidePrice, slowMALen)

oscillator = fastMA - slowMA
signalLine = ta.sma(oscillator, signalLen)
histogram = oscillator - signalLine
histColor = histogram >= 0 ? histUpCol : histDownCol

// === Plotting ===
hline(0, "Zero Line", zeroCol, hline.style_dotted)
plot(oscillator, "Oscillator", color=oscCol, linewidth=2)
plot(signalLine, "Signal Line", color=sigCol, linewidth=1)
plot(histogram, "Histogram", style=plot.style_histogram, color=color.new(histColor, 60))

barcolor(enableCandleClr ? (oscillator > signalLine ? color.new(color.green, 0) : color.new(color.red, 0)) : na)

// === Extension Possibilities ===
// Alerts, signal markers, multi-timeframe support can be added as needed.
