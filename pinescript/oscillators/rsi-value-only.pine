//@version=5
indicator("RSI Value Only", overlay = true)

// Paramètres
rsiLength = input.int(14, "Période RSI", minval = 1)
rsiSource = input.source(close, "Source")

// Calcul du RSI
rsiValue = ta.rsi(rsiSource, rsiLength)

// Formatage à 2 décimales
rsiText  = str.tostring(rsiValue, "#.##")

// Couleur dynamique
rsiColor = rsiValue > 70 ? color.red :
           rsiValue < 30 ? color.lime :
           color.new(color.gray, 0)

// Création de la table (plus gros cadre, position haut droit)
var table rsiTable = table.new(
     position     = position.top_right,         // ← Retour en haut à droite
     columns      = 1,
     rows         = 1,
     bgcolor      = color.new(color.black, 90), // ← Plus transparent pour fond léger
     border_width = 2,                          // ← Bordure plus épaisse
     border_color = color.new(color.gray, 40),  // Bordure grise plus visible
     frame_width  = 2,                          // ← Cadre extérieur plus épais
     frame_color  = color.gray
     )

// Mise à jour sur la dernière barre
if barstate.islastconfirmedhistory or barstate.isrealtime
    table.cell(
         rsiTable, 
         column      = 0, 
         row         = 0,
         text        = "RSI " + str.tostring(rsiLength) + " : " + rsiText,
         text_color  = rsiColor,
         text_size   = size.large,                  // ← Texte plus gros (cadre suit)
         text_halign = text.align_right
         )
