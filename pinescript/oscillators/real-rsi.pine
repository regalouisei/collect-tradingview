// This Pine Script™ code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/
// © KokJiarakul

//@version=6
indicator("Real RSI", overlay = false)


TF1 = input.string("15" , options = ["15","30","60","120","240","1D", "1W","1M"], title = "TF1 (min)")
TF2 = input.string("60" , options = ["15","30","60","120","240","1D", "1W","1M"], title = "TF2 (min)")
TF3 = input.string("240", options = ["15","30","60","120","240","1D", "1W","1M"], title = "TF3 (min)")


rsi15  = math.round(request.security(syminfo.tickerid, TF1, ta.rsi(close, 14)), 2)
rsi60  = math.round(request.security(syminfo.tickerid, TF2, ta.rsi(close, 14)), 2)
rsi240 = math.round(request.security(syminfo.tickerid, TF3, ta.rsi(close, 14)), 2)


plot(rsi15, linewidth = 2, title = 'rsiTF1', color = color.new(color.blue, 0))
plot(rsi60, linewidth = 2, title = 'rsiTF2', color = color.new(#05d9ff,20))
plot(rsi240, linewidth =2, title = 'rsiTF3', color = color.new(#ff5e00,40))


//   ------ bgcolor ------   //

//threshold = input.float(80, title = "rsi above")
// condition = rsi60 > threshold
// barcolor(condition  ? color.purple : na)
// bgcolor(condition ? color.new(color.purple, 80) : na, force_overlay = true)

//   ------ barcolor ------   //

// threshold = input.float(80, title = "rsi above")
// condition = rsi60 > threshold
// greenbar  = close > open
// redbar    = close < open

// barcolor(condition  ? 
//     (greenbar ? color.purple : color.orange) : na)

//   ------ RSI for marker Phase ------   //

thresholdUp    = input.float(50, title = "rsi bullish")
thresholdUp2   = input.float(80, title = "rsi Super bullish")
thresholdDown  = input.float(50, title = "rsi bullish")
thresholdDown2 = input.float(20, title = "rsi Super bullish")

rsiTF = input.string("15", title = "select rsi", options = ["15", "60", "240"])
rsix  = math.round(request.security(syminfo.tickerid, rsiTF, ta.rsi(close, 14)), 2)

conditionUp   = rsix > thresholdUp and rsix < thresholdUp2
conditionUp2  = rsix > thresholdUp2 

conditionDown  = rsix < thresholdDown and rsix > thresholdDown2
conditionDown2 = rsix < thresholdDown2 

bgcolor(conditionUp  ? color.new(color.blue, 94) : na, force_overlay = true)
bgcolor(conditionUp2 ? color.new(color.blue, 40)  : na, force_overlay = true)

bgcolor(conditionDown ? color.new(color.red, 94)  : na, force_overlay = true)
bgcolor(conditionDown2 ? color.new(color.orange, 94)  : na, force_overlay = true)

//-----------------------------------------------------------------------------------------------

//   ------ bg on rsi ------   //

//hline80 = hline(80, "80",color = color.new(color.blue, 60), linewidth = 2, linestyle = hline.style_dashed)
// hline20 = hline(20, "20",color = color.new(color.red, 100)  , linewidth = 2, linestyle = hline.style_dashed)
// hline50 = hline(50, "50",color = color.new(color.white, 100) , linewidth = 2, linestyle = hline.style_dashed)

//hline60 = hline(60, "60",color = color.new(color.green, 60) , linewidth = 2, linestyle = hline.style_dashed)
// hline40 = hline(40, "40",color = color.new(color.red, 100) , linewidth = 2, linestyle = hline.style_dashed)

// hline100  = hline(90, color = color.new(color.white, 100))
// hline0    = hline(10, color = color.new(color.white, 100))

//fill(hline80, hline60, color.new(color.green, 90), title = "Strong Zone"  )
// fill(hline20, hline40, color.new(color.red,   90), title = "Weak Zone"    )

// fill(hline60, hline50, color.new(color.green, 95), title = "Strong Zone"  )
// fill(hline40, hline50, color.new(color.red,   95), title = "Weak Zone"    )

//fill(hline80, hline100,color.new(color.white,  90), title = "TP Long Zone" )
//fill(hline0 , hline20, color.new(color.white,  90), title = "TP Short Zone")
