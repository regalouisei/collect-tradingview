//@version=6
indicator("RSI with Multi-Level OB/OS (65/70 & 35/30)", overlay = false)

// Inputs
length = input.int(14, "RSI Length")
ob1 = input.float(65, "Overbought Level 1")
ob2 = input.float(70, "Overbought Level 2")
os1 = input.float(35, "Oversold Level 1")
os2 = input.float(30, "Oversold Level 2")

// RSI
rsiValue = ta.rsi(close, length)

// Plot RSI
plot(rsiValue, "RSI", color = color.white, linewidth = 2)

// Overbought lines
hline(ob1, "OB 65", color = color.red, linestyle = hline.style_dashed)
hline(ob2, "OB 70", color = color.red, linestyle = hline.style_dotted)

// Oversold lines
hline(os1, "OS 35", color = color.green, linestyle = hline.style_dashed)
hline(os2, "OS 30", color = color.green, linestyle = hline.style_dotted)

// Midline
hline(50, "Midline", color = color.gray, linestyle = hline.style_solid)

// Background shading
bgcolor(
    rsiValue > ob2 ? color.new(color.red, 80) :
    rsiValue > ob1 ? color.new(color.red, 90) :
    rsiValue < os2 ? color.new(color.green, 80) :
    rsiValue < os1 ? color.new(color.green, 90) : na
)
