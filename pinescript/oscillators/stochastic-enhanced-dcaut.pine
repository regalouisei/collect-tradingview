// This source code is subject to the terms of the MIT License
// © 2025 DCAUT

//@version=6
indicator("Stochastic Enhanced [DCAUT]", overlay=false, timeframe='', timeframe_gaps=true)

// Stochastic Oscillator Enhanced
// Advanced momentum oscillator with 21 smoothing algorithm options
//
// Signal Interpretation:
// • Values above 80 indicate overbought conditions, potential reversal or pullback zone
// • Values below 20 indicate oversold conditions, potential bounce or reversal zone
// • %K crossing above %D generates bullish signal, entry consideration for long positions
// • %K crossing below %D generates bearish signal, entry consideration for short positions
// • Divergences between price and oscillator warn of potential trend weakness or reversal
//
// Primary Applications:
// • Momentum analysis and reversal identification in ranging markets
// • Overbought/oversold condition detection for timing entries and exits
// • Crossover signals for trend confirmation and position management
// • Divergence analysis for advanced trend reversal prediction
// • Multi-timeframe momentum alignment and risk assessment

import DCAUT/TA/2 as dta

// Input parameters
source  = input.source(close, "Source", tooltip="Price data source for stochastic calculation - typically close price")
periodK = input.int(14, "%K Length", minval=1, tooltip="Lookback period for %K calculation - determines sensitivity to price movements (higher values = smoother, less responsive)")
smoothK = input.int(3, "%K Smoothing", minval=1, tooltip="Smoothing period for %K line - use 1 for Fast Stochastic, 3 for Slow Stochastic (higher values reduce noise)")
smoothD = input.int(3, "%D Smoothing", minval=1, tooltip="Smoothing period for %D signal line - creates moving average of %K (typically 3 periods)")
maType  = input.enum(dta.MaType.SMA, "Smoothing Type", tooltip="Moving average algorithm for smoothing both %K and %D lines - different types offer varying noise reduction and lag characteristics")

// Calculate Stochastic
[percentK, percentD] = dta.stochastic(source, high, low, periodK, smoothK, smoothD, maType)

// Plots
upperBand = hline(80, "Upper Band", color=#787B86)
hline(50, "Middle Band", color=color.new(#787B86, 50))
lowerBand = hline(20, "Lower Band", color=#787B86)
fill(upperBand, lowerBand, color=color.new(#2962FF, 90), title="Background")

plot(percentK, title="%K", color=#2962FF, linewidth=1)
plot(percentD, title="%D", color=#FF6D00, linewidth=1)

// Alert conditions
alertcondition(ta.crossover(percentK, percentD), title='Stochastic Bullish Cross', message='%K crossed above %D - Bullish momentum signal')
alertcondition(ta.crossunder(percentK, percentD), title='Stochastic Bearish Cross', message='%K crossed below %D - Bearish momentum signal')
alertcondition(ta.crossover(percentK, 80), title='Overbought Entry', message='Stochastic entered overbought zone (>80) - Potential reversal area')
alertcondition(ta.crossunder(percentK, 20), title='Oversold Entry', message='Stochastic entered oversold zone (<20) - Potential bounce area')
