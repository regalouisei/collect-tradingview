//@version=5
indicator("Flux-Tensor Singularity [FTS]", shorttitle="FTS-THEORY", overlay=true, max_lines_count=500, max_labels_count=500)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•—     â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— 
// â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•    â•šâ•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
// â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ•”â•        â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
// â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ•”â–ˆâ–ˆâ•—        â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—
// â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•—       â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘
// â•šâ•â•     â•šâ•â•â•â•â•â•â• â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•       â•šâ•â•   â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•â•â•šâ•â•â•â•â•â•â• â•šâ•â•â•â•â•â• â•šâ•â•  â•šâ•â•
//                     SINGULARITY INDICATOR - MARKET SPACETIME ANALYSIS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Inputs
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
lookback = input.int(20, "Global Horizon (Context)", minval=2, maxval=500,
  tooltip="Lookback period for normalization and volatility comparison.\n\n" +
  "â€¢ SCALPING (1m-5m): 10-14\n" +
  "â€¢ INTRADAY (15m-1h): 20-30\n" +
  "â€¢ SWING (4h-1D): 30-50\n" +
  "â€¢ POSITION (1D+): 50-100\n\n" +
  "Higher values = smoother, fewer signals\n" +
  "Lower values = more responsive, more signals")
smooth = input.int(3, "Tensor Smoothing", minval=1, maxval=20,
  tooltip="EMA smoothing applied to remove 'quantum foam' (noise).\n\n" +
  "â€¢ FAST MARKETS (crypto, news): 1-2\n" +
  "â€¢ NORMAL MARKETS: 3-5\n" +
  "â€¢ SLOW/CHOPPY MARKETS: 7-10\n\n" +
  "Lower = more reactive, more false signals\n" +
  "Higher = smoother, delayed signals")
singularity_threshold = input.int(90, "Singularity Threshold", minval=51, maxval=99,
  tooltip="Critical mass threshold for singularity events.\n\n" +
  "â€¢ AGGRESSIVE (more signals): 85\n" +
  "â€¢ BALANCED (default): 90\n" +
  "â€¢ CONSERVATIVE (rare signals): 95\n\n" +
  "Above this value OR below (100-value) triggers event detection.\n" +
  "Higher = fewer but stronger signals")
epsilon_input = input.float(1.0, "Signal Sensitivity (Îµ)", minval=0.1, maxval=5.0, step=0.1,
  tooltip="Controls how easily the tensor reaches extreme values.\n\n" +
  "TECHNICAL: Compresses normalized values toward neutral (50)\n" +
  "Formula: S_final = 50 + (S_normalized - 50) / Îµ\n\n" +
  "â€¢ AGGRESSIVE (more signals): 0.3-0.7\n" +
  "â€¢ BALANCED (default): 1.0\n" +
  "â€¢ CONSERVATIVE (fewer signals): 1.5-3.0\n" +
  "â€¢ VERY CONSERVATIVE: 3.0-5.0\n\n" +
  "Higher values compress the range toward neutral,\n" +
  "making threshold breaches rarer and more significant.\n\n" +
  "Example with Îµ=2.0:\n" +
  "  Input: 90 â†’ Output: 70 (compressed)\n" +
  "  Input: 70 â†’ Output: 60 (compressed)\n" +
  "This reduces false signals in choppy markets.")
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// VISUAL CONFIGURATION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
c_eject = input.color(#00F0FF, "Ejection Flux (Bullish)", group="ğŸ¨ Theme", tooltip="Color for bullish/upward energy flux")
c_collapse = input.color(#FF0044, "Collapse Flux (Bearish)", group="ğŸ¨ Theme", tooltip="Color for bearish/downward energy flux")
c_void = input.color(#0a0a0a, "The Void (Background)", group="ğŸ¨ Theme", tooltip="Deep space background color")
c_event_horizon = input.color(#FFD700, "Event Horizon", group="ğŸ¨ Theme", tooltip="Critical threshold boundary color")
// UNIFIED TRANSPARENCY CONTROL
visual_transparency = input.int(85, "Visual Transparency", minval=50, maxval=99, group="ğŸ¨ Theme",
  tooltip="Master transparency control for ALL visual elements.\n\n" +
  "Controls:\n" +
  "â€¢ Accretion disk layers\n" +
  "â€¢ Field lines (EMAs)\n" +
  "â€¢ Energy particles\n" +
  "â€¢ Singularity diamonds\n" +
  "â€¢ Event horizon flash\n" +
  "â€¢ Signal background flash\n\n" +
  "50 = Very visible\n" +
  "85 = Balanced (default)\n" +
  "95 = Very subtle\n\n" +
  "Signals and dashboard have separate controls.")
// Visual Toggles
show_field_lines = input.bool(true, "Show Gravitational Field Lines", group="ğŸ‘ï¸ Visibility", tooltip="Display trend EMAs as 'field lines' showing spacetime curvature")
show_field_crosses = input.bool(true, "Show Field Reversals", group="ğŸ‘ï¸ Visibility", tooltip="Display small circles when field lines cross (trend changes)")
show_accretion_disk = input.bool(true, "Show Accretion Disk", group="ğŸ‘ï¸ Visibility", tooltip="Display gradient background showing matter distribution")
show_singularity_diamonds = input.bool(true, "Show Singularity Diamonds", group="ğŸ‘ï¸ Visibility", tooltip="Display small diamonds at raw singularity events (before interpretation)")
show_energy_particles = input.bool(true, "Show Energy Particles", group="ğŸ‘ï¸ Visibility", tooltip="Display particle effects on volume bursts (>2x average volume)")
show_event_horizon_flash = input.bool(true, "Show Event Horizon Flash", group="ğŸ‘ï¸ Visibility", tooltip="Golden flash when any singularity is detected")
show_signal_flash = input.bool(true, "Show Signal Background Flash", group="ğŸ‘ï¸ Visibility", tooltip="Background color flash on buy/sell signals")
// Signal Display
signal_size = input.string("Small", "Signal Size", options=["Tiny", "Small", "Normal"], group="ğŸ“ Signals", tooltip="Size of buy/sell triangle signals")
buy_offset_pct = input.float(0.3, "Buy Signal Offset %", minval=0.0, maxval=5.0, step=0.05, group="ğŸ“ Signals", tooltip="Offset below low for buy signals.\n\n0.0 = At low\n0.3 = 0.3% below low\n1.0 = 1% below low")
sell_offset_pct = input.float(0.3, "Sell Signal Offset %", minval=0.0, maxval=5.0, step=0.05, group="ğŸ“ Signals", tooltip="Offset above high for sell signals.\n\n0.0 = At high\n0.3 = 0.3% above high\n1.0 = 1% above high")
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// DASHBOARD CONFIGURATION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
show_dashboard = input.bool(true, "Show Dashboard", group="ğŸ“Š Dashboard")
dashboard_position = input.string("Top Right", "Position", options=["Top Left", "Top Center", "Top Right", "Middle Left", "Middle Center", "Middle Right", "Bottom Left", "Bottom Center", "Bottom Right"], group="ğŸ“Š Dashboard", tooltip="Dashboard location on chart")
dashboard_size = input.string("Normal", "Text Size", options=["Tiny", "Small", "Normal", "Large"], group="ğŸ“Š Dashboard", tooltip="Size of dashboard text")
dashboard_transparency = input.int(10, "Background Transparency", minval=0, maxval=50, group="ğŸ“Š Dashboard", tooltip="Dashboard background transparency.\n\n0 = Solid\n50 = Very transparent")
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SIGNAL INTERPRETER
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
use_price_confirmation = input.bool(true, "Require Price Confirmation", group="ğŸ” Signal Interpreter", tooltip="Only generate signals on bullish candles (for buy) or bearish candles (for sell).\n\n" + "Recommended: ON for most trading\n" + "Turn OFF for early signals (more risk)")
use_volume_confirmation = input.bool(true, "Require Volume Confirmation", group="ğŸ” Signal Interpreter", tooltip="Only generate signals when volume > average.\n\n" + "CRITICAL for stocks and crypto.\n" + "Less important for forex (volume data unreliable).\n\n" + "Recommended: ON for all markets except forex")
use_momentum_filter = input.bool(true, "Use Momentum Filter", group="ğŸ” Signal Interpreter", tooltip="Require momentum agreement with signal direction.\n\n" +"Prevents counter-trend signals.\n" +"Recommended: ON for trend-following, OFF for reversal trading")
momentum_lookback = input.int(5, "Momentum Lookback", minval=2, maxval=20, group="ğŸ” Signal Interpreter", tooltip="Bars used to calculate momentum direction.\n\n" + "â€¢ SHORT-TERM: 3-5 bars\n" + "â€¢ MEDIUM-TERM: 5-10 bars\n" + "â€¢ LONG-TERM: 10-20 bars\n\n" + "Shorter = more responsive, more reversals\n" + "Longer = trend-following bias")
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// FUNDAMENTAL MEASUREMENTS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MASS (V): Volume Mass
float V = math.log(volume + 1)
// VELOCITY (Î”P): Price Momentum
float delta_P = close - close[1]
// TIME DILATION FACTOR (Î³): Volatility Ratio
float sigma_local = ta.atr(5)
float sigma_global = ta.atr(lookback)
float sigma_ratio = (sigma_local + 1e-10) / (sigma_global + 1e-10)
float gamma = math.pow(sigma_ratio, 2)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// THE SINGULARITY EQUATION (WITH WORKING EPSILON)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Step 1: Calculate raw singularity
float raw_singularity = (delta_P * V) * gamma
// Step 2: Normalize to [0, 100]
float min_S = ta.lowest(raw_singularity, lookback)
float max_S = ta.highest(raw_singularity, lookback)
float range_S = max_S - min_S
float S_index = range_S <= 1e-10 ? 50 : ((raw_singularity - min_S) / range_S) * 100
// Step 3: Apply epsilon as POST-NORMALIZATION COMPRESSION
float S_compressed = 50 + ((S_index - 50) / epsilon_input)
// Step 4: Smooth to remove quantum foam
float tensor = ta.ema(S_compressed, smooth)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// EVENT HORIZON BREACH DETECTION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
bool singularity_upper = ta.crossover(tensor, singularity_threshold)
bool singularity_lower = ta.crossunder(tensor, 100 - singularity_threshold)
bool any_singularity = singularity_upper or singularity_lower
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CONTEXTUAL ANALYSIS ENGINE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Price Structure
bool price_bullish = close > open
bool price_bearish = close < open
// Momentum Analysis
float momentum = close - close[momentum_lookback]
bool momentum_bullish = momentum > 0
bool momentum_bearish = momentum < 0
// Volume Confirmation
float vol_ma = ta.sma(volume, lookback)
bool volume_confirms = volume > vol_ma
float vol_ratio = volume / vol_ma
// Trend Context 
float trend_fast = ta.ema(close, 10)
float trend_slow = ta.ema(close, 30)
bool in_uptrend = trend_fast > trend_slow
bool in_downtrend = trend_fast < trend_slow
// Acceleration
float roc = ta.roc(close, 3)
bool accelerating_up = roc > 0 and roc > roc[1]
bool accelerating_down = roc < 0 and roc < roc[1]
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// FLUX DIRECTION INTERPRETER 
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
int bullish_score = 0
int bearish_score = 0
if price_bullish
    bullish_score += 1
if price_bearish
    bearish_score += 1
if momentum_bullish
    bullish_score += 1
if momentum_bearish
    bearish_score += 1
if in_uptrend
    bullish_score += 2
if in_downtrend
    bearish_score += 2
if accelerating_up
    bullish_score += 1
if accelerating_down
    bearish_score += 1
if volume_confirms
    bullish_score := int(bullish_score * 1.5)
    bearish_score := int(bearish_score * 1.5)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// SIGNAL GENERATION
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
bool ejection_signal = (singularity_upper or singularity_lower) and
                       (bullish_score > bearish_score) and
                       (use_price_confirmation ? price_bullish : true) and
                       (use_volume_confirmation ? volume_confirms : true) and
                       (use_momentum_filter ? momentum_bullish : true)
bool collapse_signal = (singularity_upper or singularity_lower) and
                       (bearish_score > bullish_score) and
                       (use_price_confirmation ? price_bearish : true) and
                       (use_volume_confirmation ? volume_confirms : true) and
                       (use_momentum_filter ? momentum_bearish : true)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// VISUAL CALCULATIONS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
string dash_size = dashboard_size == "Tiny" ? size.tiny :
                   dashboard_size == "Small" ? size.small :
                   dashboard_size == "Normal" ? size.normal : size.large
string dash_pos = dashboard_position == "Top Left" ? position.top_left :
                  dashboard_position == "Top Center" ? position.top_center :
                  dashboard_position == "Top Right" ? position.top_right :
                  dashboard_position == "Middle Left" ? position.middle_left :
                  dashboard_position == "Middle Center" ? position.middle_center :
                  dashboard_position == "Middle Right" ? position.middle_right :
                  dashboard_position == "Bottom Left" ? position.bottom_left :
                  dashboard_position == "Bottom Center" ? position.bottom_center :
                  position.bottom_right
float outer_intensity = math.abs(tensor - 50) / 50
color outer_disk_color = tensor > 50 ? c_eject : c_collapse
int outer_transparency = int(visual_transparency + 2)
bool show_inner_disk = (tensor > 70 or tensor < 30)
float inner_intensity = tensor > 70 ? (tensor - 70) / 30 : (30 - tensor) / 30
color inner_disk_color = tensor > 70 ? c_eject : c_collapse
int inner_transparency = int(visual_transparency - (inner_intensity * 5))
bool show_core = (tensor > 85 or tensor < 15)
float core_intensity = tensor > 85 ? (tensor - 85) / 15 : (15 - tensor) / 15
color core_disk_color = tensor > 85 ? c_eject : c_collapse
int core_transparency = int(visual_transparency - 10 - (core_intensity * 10))
bool volume_burst = volume > vol_ma * 2 and show_energy_particles
bool field_cross_up = ta.crossover(trend_fast, trend_slow)
bool field_cross_down = ta.crossunder(trend_fast, trend_slow)
float price_range = high - low
float buy_offset = close * (buy_offset_pct / 100)
float sell_offset = close * (sell_offset_pct / 100)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// MESMERIZING VISUALIZATIONS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// 1. ACCRETION DISK 
bgcolor(show_accretion_disk ? color.new(outer_disk_color, outer_transparency) : na, title="Outer Disk")
bgcolor(show_accretion_disk and show_inner_disk ? color.new(inner_disk_color, inner_transparency) : na, title="Inner Disk")
bgcolor(show_accretion_disk and show_core ? color.new(core_disk_color, core_transparency) : na, title="Singularity Core")
// 2. EVENT HORIZON GLOW
bgcolor(show_event_horizon_flash and any_singularity ? color.new(c_event_horizon, visual_transparency) : na, title="Event Horizon Flash")
// 3. SIGNAL ZONES 
bgcolor(show_signal_flash and ejection_signal ? color.new(c_eject, visual_transparency) : na, title="Ejection Flash")
bgcolor(show_signal_flash and collapse_signal ? color.new(c_collapse, visual_transparency) : na, title="Collapse Flash")
// 4. GRAVITATIONAL FIELD LINES
plot(show_field_lines ? trend_fast : na, "Local Field Curvature", color=color.new(c_eject, visual_transparency - 15), linewidth=1, style=plot.style_line)
plot(show_field_lines ? trend_slow : na, "Global Field Curvature", color=color.new(c_collapse, visual_transparency - 15), linewidth=1, style=plot.style_line)
// Field intersection 
plotshape(show_field_lines and show_field_crosses and field_cross_up, "Field Reversal Up", style=shape.circle, location=location.belowbar, color=color.new(c_eject, visual_transparency - 35), size=size.tiny)
plotshape(show_field_lines and show_field_crosses and field_cross_down, "Field Reversal Down", style=shape.circle, location=location.abovebar, color=color.new(c_collapse, visual_transparency - 35), size=size.tiny)
// 5. SINGULARITY EVENTS
plotshape(show_singularity_diamonds and singularity_upper and not ejection_signal and not collapse_signal, title="Upper Singularity", style=shape.diamond, location=location.abovebar, color=color.new(c_event_horizon, visual_transparency - 55), size=size.tiny)
plotshape(show_singularity_diamonds and singularity_lower and not ejection_signal and not collapse_signal, title="Lower Singularity", style=shape.diamond, location=location.belowbar, color=color.new(c_event_horizon, visual_transparency - 55), size=size.tiny)
// 6. ENERGY PARTICLE EFFECT
plotchar(volume_burst and price_bullish, title="Energy Burst Up", char="Â·", location=location.belowbar, color=color.new(c_eject, visual_transparency - 45), size=size.tiny)
plotchar(volume_burst and price_bearish, title="Energy Burst Down", char="Â·", location=location.abovebar, color=color.new(c_collapse, visual_transparency - 45), size=size.tiny)
// 7. PRIMARY SIGNALS
if ejection_signal
    label.new(bar_index, low - buy_offset, "â–²", color=color.new(chart.bg_color, 100), textcolor=c_eject, style=label.style_none, size=signal_size == "Tiny" ? size.tiny : signal_size == "Small" ? size.small : size.normal, textalign=text.align_center)
if collapse_signal
    label.new(bar_index, high + sell_offset, "â–¼", color=color.new(chart.bg_color, 100), textcolor=c_collapse, style=label.style_none, size=signal_size == "Tiny" ? size.tiny : signal_size == "Small" ? size.small : size.normal, textalign=text.align_center)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ELEGANT DASHBOARD
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
var table dashboard = table.new(dash_pos, 3, 11, bgcolor=color.new(c_void, dashboard_transparency), frame_color=color.new(c_event_horizon, 50), frame_width=2,border_color=color.new(c_event_horizon, 70), border_width=1)
if barstate.islast and show_dashboard
    table.cell(dashboard, 0, 0, "âš«", text_color=color.white, text_size=dash_size, bgcolor=color.new(c_void, 0))
    table.cell(dashboard, 1, 0, "SINGULARITY", text_color=c_event_horizon, text_size=dash_size, bgcolor=color.new(c_void, 0), text_font_family=font.family_monospace)
    table.cell(dashboard, 2, 0, "âš«", text_color=color.white, text_size=dash_size, bgcolor=color.new(c_void, 0))   
    table.cell(dashboard, 0, 1, "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”", text_color=color.new(c_event_horizon, 50), text_size=size.tiny, bgcolor=color.new(c_void, 0))
    table.merge_cells(dashboard, 0, 1, 2, 1)    
    table.cell(dashboard, 0, 2, "EVENT DENSITY", text_color=color.gray, text_size=dash_size, bgcolor=color.new(c_void, 0))
    color density_color = tensor > singularity_threshold ? c_eject : tensor < (100 - singularity_threshold) ? c_collapse : tensor > 50 ? color.new(c_eject, 50) : color.new(c_collapse, 50)
    string density_icon = tensor > singularity_threshold ? "ğŸ”¥" : tensor < (100 - singularity_threshold) ? "â„ï¸" : "â—‹"
    table.cell(dashboard, 1, 2, density_icon, text_color=density_color, text_size=dash_size, bgcolor=color.new(c_void, 0))
    table.cell(dashboard, 2, 2, str.tostring(tensor, "#.#"), text_color=density_color, text_size=dash_size, bgcolor=color.new(c_void, 0), text_font_family=font.family_monospace)
    table.cell(dashboard, 0, 3, "TIME DILATION Î³", text_color=color.gray, text_size=dash_size, bgcolor=color.new(c_void, 0))
    color gamma_color = gamma > 2.0 ? color.red : gamma > 1.5 ? color.orange : gamma > 1.0 ? color.yellow : color.gray
    string gamma_icon = gamma > 2.0 ? "âš¡" : gamma > 1.0 ? "âš " : "â—‹"
    table.cell(dashboard, 1, 3, gamma_icon, text_color=gamma_color, text_size=dash_size, bgcolor=color.new(c_void, 0))
    table.cell(dashboard, 2, 3, str.tostring(gamma, "#.##") + "x", text_color=gamma_color, text_size=dash_size, bgcolor=color.new(c_void, 0), text_font_family=font.family_monospace)
    table.cell(dashboard, 0, 4, "MASS (VOL)", text_color=color.gray, text_size=dash_size, bgcolor=color.new(c_void, 0))
    color mass_color = vol_ratio > 2.0 ? color.yellow : vol_ratio > 1.0 ? color.white : color.gray
    string mass_icon = vol_ratio > 2.0 ? "â—" : vol_ratio > 1.0 ? "â—" : "â—‹"
    table.cell(dashboard, 1, 4, mass_icon, text_color=mass_color, text_size=dash_size, bgcolor=color.new(c_void, 0))
    table.cell(dashboard, 2, 4, str.tostring(V, "#.#"), text_color=mass_color, text_size=dash_size, bgcolor=color.new(c_void, 0), text_font_family=font.family_monospace)
    table.cell(dashboard, 0, 5, "VELOCITY Î”ğ˜—", text_color=color.gray, text_size=dash_size, bgcolor=color.new(c_void, 0))
    color velocity_color = delta_P > 0 ? c_eject : delta_P < 0 ? c_collapse : color.gray
    string velocity_icon = delta_P > 0 ? "â†‘" : delta_P < 0 ? "â†“" : "â†’"
    table.cell(dashboard, 1, 5, velocity_icon, text_color=velocity_color, text_size=dash_size, bgcolor=color.new(c_void, 0))
    table.cell(dashboard, 2, 5, str.tostring(delta_P, "#.####"), text_color=velocity_color, text_size=size.small, bgcolor=color.new(c_void, 0), text_font_family=font.family_monospace)
    table.cell(dashboard, 0, 6, "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”", text_color=color.new(c_event_horizon, 50), text_size=size.tiny, bgcolor=color.new(c_void, 0))
    table.merge_cells(dashboard, 0, 6, 2, 6)
    table.cell(dashboard, 0, 7, "BULLISH FLUX", text_color=color.gray, text_size=dash_size, bgcolor=color.new(c_void, 0))
    color bull_bar_color = bullish_score > bearish_score ? c_eject : color.new(c_eject, 70)
    string bull_bar = ""
    for i = 0 to math.min(bullish_score, 10) - 1
        bull_bar := bull_bar + "â–ˆ"
    table.cell(dashboard, 1, 7, bull_bar, text_color=bull_bar_color, text_size=dash_size, bgcolor=color.new(c_void, 0), text_font_family=font.family_monospace)
    table.cell(dashboard, 2, 7, str.tostring(bullish_score), text_color=bull_bar_color, text_size=dash_size, bgcolor=color.new(c_void, 0), text_font_family=font.family_monospace)
    table.cell(dashboard, 0, 8, "BEARISH FLUX", text_color=color.gray, text_size=dash_size, bgcolor=color.new(c_void, 0))
    color bear_bar_color = bearish_score > bullish_score ? c_collapse : color.new(c_collapse, 70)
    string bear_bar = ""
    for i = 0 to math.min(bearish_score, 10) - 1
        bear_bar := bear_bar + "â–ˆ"
    table.cell(dashboard, 1, 8, bear_bar, text_color=bear_bar_color, text_size=dash_size, bgcolor=color.new(c_void, 0), text_font_family=font.family_monospace)
    table.cell(dashboard, 2, 8, str.tostring(bearish_score), text_color=bear_bar_color, text_size=dash_size, bgcolor=color.new(c_void, 0), text_font_family=font.family_monospace)
    table.cell(dashboard, 0, 9, "FIELD", text_color=color.gray, text_size=dash_size, bgcolor=color.new(c_void, 0))
    string field_text = in_uptrend ? "REPULSIVE" : in_downtrend ? "ATTRACTIVE" : "NEUTRAL"
    string field_icon = in_uptrend ? "â¬†" : in_downtrend ? "â¬‡" : "â†”"
    color field_color = in_uptrend ? c_eject : in_downtrend ? c_collapse : color.gray
    table.cell(dashboard, 1, 9, field_icon, text_color=field_color, text_size=dash_size, bgcolor=color.new(c_void, 0))
    table.cell(dashboard, 2, 9, field_text, text_color=field_color, text_size=dash_size, bgcolor=color.new(c_void, 0), text_font_family=font.family_monospace)
    table.cell(dashboard, 0, 10, "STATE", text_color=color.gray, text_size=dash_size, bgcolor=color.new(c_void, 0))
    string state_text = ejection_signal ? "EJECTION" : collapse_signal ? "COLLAPSE" : any_singularity ? "CRITICAL" : "STABLE"
    string state_icon = ejection_signal ? "ğŸš€" : collapse_signal ? "ğŸ’¥" : any_singularity ? "âš " : "â—"
    color state_color = ejection_signal ? c_eject : collapse_signal ? c_collapse : any_singularity ? c_event_horizon : color.gray
    color state_bg = ejection_signal ? color.new(c_eject, 85) : collapse_signal ? color.new(c_collapse, 85) : color.new(c_void, 0)
    table.cell(dashboard, 1, 10, state_icon, text_color=state_color, text_size=dash_size, bgcolor=state_bg)
    table.cell(dashboard, 2, 10, state_text, text_color=state_color, text_size=dash_size, bgcolor=state_bg, text_font_family=font.family_monospace)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ALERTS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
alertcondition(ejection_signal, title="ğŸš€ Matter Ejection (BUY)", message="ğŸš€ EJECTION EVENT DETECTED\nSymbol: {{ticker}}\nPrice: {{close}}\nTime: {{time}}\nStatus: BUY SIGNAL CONFIRMED")
alertcondition(collapse_signal, title="ğŸ’¥ Gravitational Collapse (SELL)", message="ğŸ’¥ COLLAPSE EVENT DETECTED\nSymbol: {{ticker}}\nPrice: {{close}}\nTime: {{time}}\nStatus: SELL SIGNAL CONFIRMED")
alertcondition(any_singularity and not ejection_signal and not collapse_signal, title="âš  Singularity (Neutral)", message="âš  SINGULARITY DETECTED - NO DIRECTIONAL CONFIRMATION\nSymbol: {{ticker}}\nPrice: {{close}}\nTime: {{time}}\nStatus: AWAITING CONTEXT")
alertcondition(singularity_upper, title="Upper Singularity Breach", message="UPPER SINGULARITY BREACH\nSymbol: {{ticker}}\nExtreme bullish pressure detected\nAwait confirmation")
alertcondition(singularity_lower, title="Lower Singularity Breach", message="LOWER SINGULARITY BREACH\nSymbol: {{ticker}}\nExtreme bearish pressure detected\nAwait confirmation")
// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
// â”‚                         THEORETICAL FRAMEWORK                               â”‚
// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
//
// FUNDAMENTAL PREMISE:
// Traditional technical analysis treats time as constant - one bar equals one unit.
// In reality, market TIME is RELATIVE, dependent on information density.
//
// CORE HYPOTHESIS:
// Just as Einstein showed that spacetime bends around mass and accelerates with
// velocity, market "time" dilates based on VOLUME (mass) and VOLATILITY (speed).
//
// When enormous volume meets extreme volatility, the market enters a critical
// state - a SINGULARITY - where normal price behavior breaks down and violent
// directional moves become inevitable.
//
// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
// â”‚                         THE MATHEMATICS                                     â”‚
// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
//
// THE SINGULARITY EQUATION:
//
//     S_raw = (Î”P Â· V) Â· Î³Â²
//     S_normalized = Normalize(S_raw, 0-100)
//     S_final = 50 + (S_normalized - 50) / Îµ
//
// Where:
//     Î”P = Price Velocity (momentum: close - close[1])
//     V  = Volume Mass (log-transformed to normalize spikes)
//     Î³Â² = Time Dilation Factor = (Ïƒ_local / Ïƒ_global)Â²
//     Îµ  = Sensitivity control (post-normalization compression)
//
// COMPONENTS EXPLAINED:
//
// 1. MASS (V): 
//    - log(volume + 1) compresses extreme spikes
//    - Large volume = heavy "mass" = stronger gravitational effect
//
// 2. VELOCITY (Î”P):
//    - Simple price change = rate of movement through price space
//    - Direction matters: positive = ejection, negative = collapse
//
// 3. TIME DILATION (Î³Â²):
//    - Ratio of local volatility to global volatility, squared
//    - High ratio = time "slows down" = more information per bar
//    - Low ratio = time "speeds up" = low information density
//
// 4. NORMALIZATION:
//    - Raw singularity values are mapped to [0, 100] scale
//    - Relative to recent history (lookback period)
//
// 5. EPSILON COMPRESSION:
//    - Applied AFTER normalization to compress/expand range
//    - Controls how easily threshold is reached
//    - Higher Îµ = fewer signals (compressed toward 50)
//    - Lower Îµ = more signals (expanded range)
//
// 6. SMOOTHING:
//    - EMA applied to remove noise
//
// INTERPRETATION:
//     0-30:  Bearish Pressure (Gravitational Collapse)
//    30-70:  Equilibrium (Stable Spacetime)
//    70-100: Bullish Pressure (Matter Ejection)
//
//    >90 or <10: CRITICAL SINGULARITY - Breakout imminent
//
// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
// â”‚                    SIGNAL INTERPRETATION                                    â”‚
// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
//
// When a SINGULARITY event occurs (crossing 90 or 10), the indicator analyzes
// market context to determine FLUX DIRECTION:
//
// BULLISH CONTEXT (Matter Ejection):
//   âœ“ Bullish price structure (green candles)
//   âœ“ Positive momentum (rising prices over N bars)
//   âœ“ Uptrend (fast EMA > slow EMA)
//   âœ“ Upward acceleration
//   âœ“ Above-average volume
//
// BEARISH CONTEXT (Gravitational Collapse):
//   âœ“ Bearish price structure (red candles)
//   âœ“ Negative momentum (falling prices over N bars)
//   âœ“ Downtrend (fast EMA < slow EMA)
//   âœ“ Downward acceleration
//   âœ“ Above-average volume
//
// SCORING SYSTEM:
//   - Each confirmation adds points
//   - Trend factors weighted 2x
//   - Volume acts as amplifier (1.5x multiplier)
//   - Highest score determines signal direction
//
// â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
// â”‚                    APPLICATION GUIDELINES                                   â”‚
// â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
//
// TIMEFRAME RECOMMENDATIONS:
//
//   SCALPING (1m-5m):
//     - Reduce lookback to 10-14
//     - Increase smoothing to 5-7
//     - Use 85 threshold (more signals)
//     - Epsilon: 0.5-0.7 (more sensitive)
//     - Expect more noise, confirm with L2 data
//
//   INTRADAY (15m-1h):
//     - Default settings (lookback=20, smooth=3)
//     - 90 threshold optimal
//     - Epsilon: 1.0 (balanced)
//     - High win rate on liquid instruments
//
//   SWING TRADING (4h-1D):
//     - Increase lookback to 30-50
//     - Keep smoothing at 3
//     - Epsilon: 1.5-2.0 (conservative)
//     - Signals are rare but high conviction
//     - Combine with higher timeframe trend
//
//   POSITION TRADING (1D-1W):
//     - Lookback 50-100
//     - Smoothing 5-7
//     - Only trade 95+ threshold events
//     - Epsilon: 2.0-3.0 (very conservative)
//     - Extremely rare, massive moves
//
// MARKET SECTOR GUIDANCE:
//
//   FOREX (24hr, high liquidity):
//     - Works best on majors (EUR/USD, GBP/USD)
//     - Volume data less reliable, focus on momentum
//     - News events cause singularities
//
//   STOCKS (session-based):
//     - Excellent on high-volume equities
//     - Morning/afternoon sessions show different characteristics
//     - Earnings = guaranteed singularity events
//
//   CRYPTO (24hr, extreme volatility):
//     - Reduce threshold to 85 (constant volatility)
//     - Volume spikes are THE signal
//     - Works exceptionally well on BTC, ETH
//
//   COMMODITIES:
//     - Gold: responds to macro singularities
//     - Oil: supply shocks create extreme events
//     - Use daily timeframe minimum
//
//   INDICES:
//     - SPX/NDX: institutional volume matters
//     - Opening hour = highest singularity probability
//     - VIX correlation: high VIX = more events
//
// BEST PRACTICES:
//   1. Don't trade every singularity - wait for context confirmation
//   2. Higher timeframes = higher reliability
//   3. Combine with support/resistance for entry refinement
//   4. Volume confirmation is CRITICAL (toggle off at your own risk)
//   5. During news events, singularities are inevitable but direction uncertain
