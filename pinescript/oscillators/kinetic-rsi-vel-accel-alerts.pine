// This Pine Script® code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/
// © MonkeyPhone

//@version=6
indicator("Kinetic RSI [Vel + Accel] + Alerts", overlay=false)

// --- Inputs ---
len     = input.int(14, "RSI Length")
vThresh = input.int(3, "Velocity Threshold")

// --- Calculations ---
rsi = ta.rsi(close, len)
vel = rsi - rsi[1]     // Velocity (Speed)
acc = vel - vel[1]     // Acceleration (Change in Speed)

// --- Logic Conditions ---
// Bull: RSI Low + Fast Upward Move + Gaining Momentum (Acc > 0)
bull_kick = rsi < 35 and vel > vThresh and acc > 0

// Bear: RSI High + Fast Downward Move + Gaining Downward Momentum (Acc < 0)
bear_kick = rsi > 65 and vel < -vThresh and acc < 0

// --- Plotting ---
// Line Color: Lime if Velocity is Positive, Fuchsia if Negative
lineCol = vel > 0 ? color.new(color.lime, 0) : color.new(color.fuchsia, 0)
plot(rsi, "Kinetic RSI", color=lineCol, linewidth=2)

// Standard Bounds
h70 = hline(70, "OB", color=color.gray), h30 = hline(30, "OS", color=color.gray)
fill(h70, h30, color=color.new(color.gray, 90))

// Background Highlights
bgcolor(bull_kick ? color.new(color.lime, 80) : bear_kick ? color.new(color.fuchsia, 80) : na)

// --- Alerts ---
alertcondition(bull_kick, title="Bullish Kick (Accel)", message="Long: RSI Accelerating Up")
alertcondition(bear_kick, title="Bearish Kick (Accel)", message="Short: RSI Accelerating Down")
alertcondition(bull_kick or bear_kick, title="Any Kick", message="Volatility Alert: Kinetic Move")
