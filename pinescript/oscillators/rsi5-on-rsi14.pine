//@version=6
indicator("RSI(14) + RSI(5) on RSI(14)", shorttitle="RSI14 + RSI5", overlay=false, precision=2)

//==================== RSI(14) ====================
rsi14Len   = input.int(14, "RSI(14) period", minval=1)
rsi14Src   = input.source(close, "RSI(14) source")
rsi14Color = input.color(color.rgb(30,144,255), "RSI(14) color")
rsi14Width = input.int(1, "RSI(14) width", minval=1)

//==================== RSI(5) on RSI(14) ====================
rsi5Len    = input.int(5, "RSI(5) period on RSI(14)", minval=1)
rsi5Color  = input.color(color.black, "RSI(5) color")
rsi5Width  = input.int(1, "RSI(5) width", minval=1)

//==================== Levels ====================
level20    = input.float(20.0, "Level 20")
level50    = input.float(50.0, "Level 50")
level80    = input.float(80.0, "Level 80")

levelsColor = input.color(color.rgb(192,192,192), "Levels 20/80 color")
levelsWidth = input.int(1, "Levels 20/80 width", minval=1)
levelsStyle = input.string("Dotted", "Levels 20/80 style", options=["Solid","Dotted","Dashed"])

//==================== Helper (hline styles) ====================
getHlineStyle(s) =>
    st = hline.style_dotted
    if s == "Solid"
        st := hline.style_solid
    else if s == "Dashed"
        st := hline.style_dashed
    else
        st := hline.style_dotted
    st

//==================== Calculations ====================
rsi14 = ta.rsi(rsi14Src, rsi14Len)
rsi5  = ta.rsi(rsi14, rsi5Len)

//==================== Levels drawing ====================
hline(level20, "20", color=levelsColor, linewidth=levelsWidth, linestyle=getHlineStyle(levelsStyle))
hline(level80, "80", color=levelsColor, linewidth=levelsWidth, linestyle=getHlineStyle(levelsStyle))

// 50% level â€” black, thin, dashed
hline(level50, "50", color=color.black, linewidth=1, linestyle=hline.style_dashed)

//==================== Plots ====================
plot(rsi14, "RSI(14)", color=rsi14Color, linewidth=rsi14Width)
plot(rsi5,  "RSI(5) on RSI(14)", color=rsi5Color, linewidth=rsi5Width)

//==================== Scale ====================
plot(0,   display=display.none)
plot(100, display=display.none)
