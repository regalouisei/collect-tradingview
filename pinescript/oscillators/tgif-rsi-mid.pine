// This Pine Script® code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/
// © AmericanNinja

//@version=6
//@version=5
indicator("TGIF RSI MID", overlay=false, precision=2)
// --- Inputs ---
rsiLength = input.int(14, "RSI Length", minval=1)
src = input.source(close, "Source")

// --- Calculations ---
rsiValue = ta.rsi(src, rsiLength)

// Color Logic for the RSI Line
// If rsiValue > 50, use green; otherwise use red.
rsiLineColor = rsiValue > 50 ? color.green : color.red

// Logical Checks for Background Highlights
isCrossUp   = ta.crossover(rsiValue, 50)
isCrossDown = ta.crossunder(rsiValue, 50)

// --- Visuals ---
// Plotting the Dynamic RSI Line
plot(rsiValue, "RSI Line", color=rsiLineColor, linewidth=3)

// Horizontal Lines at 70, 50, and 30 in Green
hline(70, "Overbought (70)", color=color.new(color.green, 50), linestyle=hline.style_dashed)
hline(50, "Midline (50)", color=color.new(color.green, 20), linestyle=hline.style_solid, linewidth=2)
hline(30, "Oversold (30)", color=color.new(color.green, 50), linestyle=hline.style_dashed)

// Directional Vertical Highlights (confined to RSI panel
bgcolor(isCrossUp ? color.new(color.green, 50) : na, title="Bullish Cross Up")
bgcolor(isCrossDown ? color.new(color.red, 50) : na, title="Bearish Cross Down")
// --- Alerts ---
if isCrossUp
    alert("RSI Crossed ABOVE 50 - Bullish Momentum", alert.freq_once_per_bar)

if isCrossDown
    alert("RSI Crossed BELOW 50 - Bearish Momentum", alert.freq_once_per_bar)

// Dedicated Alert Conditions
alertcondition(isCrossUp, title="RSI Cross Above 50", message="RSI Midline Bullish Cross")
alertcondition(isCrossDown, title="RSI Cross Below 50", message="RSI Midline Bearish Cross")
