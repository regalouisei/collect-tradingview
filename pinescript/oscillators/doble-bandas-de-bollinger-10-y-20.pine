//@version=5
indicator("Doble Bandas de Bollinger (10 y 20)", overlay=true)

// ─── Parámetros ────────────────────────────────
length1 = input.int(20, "Longitud Banda 1", minval=1)
length2 = input.int(10, "Longitud Banda 2", minval=1)
mult     = input.float(2.0, "Desviación estándar", minval=0.1, step=0.1)
src      = input.source(close, "Fuente de datos")

// ─── Cálculos de Bandas ────────────────────────
basis1 = ta.sma(src, length1)
dev1   = mult * ta.stdev(src, length1)
upper1 = basis1 + dev1
lower1 = basis1 - dev1

basis2 = ta.sma(src, length2)
dev2   = mult * ta.stdev(src, length2)
upper2 = basis2 + dev2
lower2 = basis2 - dev2

// ─── Graficar Bandas ───────────────────────────
plot(basis1, "Media 20", color=color.new(color.blue, 0))
plot(upper1, "Banda Superior 20", color=color.new(color.blue, 40))
plot(lower1, "Banda Inferior 20", color=color.new(color.blue, 40))

plot(basis2, "Media 10", color=color.new(color.orange, 0))
plot(upper2, "Banda Superior 10", color=color.new(color.orange, 40))
plot(lower2, "Banda Inferior 10", color=color.new(color.orange, 40))

// ─── Relleno entre Bandas ──────────────────────
fill(plot(upper1), plot(lower1), color=color.new(color.blue, 85), title="Relleno Banda 20")
fill(plot(upper2), plot(lower2), color=color.new(color.orange, 85), title="Relleno Banda 10")
