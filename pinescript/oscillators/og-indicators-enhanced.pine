// This Pine Script® code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/
// © FIRENINJA79

//@version=6
indicator("OG Oscillators - Enhanced", overlay=false)

// === MACD ===
[macdLine, signalLine, _] = ta.macd(close, 12, 26, 9)
macdHist = macdLine - signalLine

plot(macdLine * 2.5, title="MACD Line", color=color.blue, linewidth=2)
plot(signalLine * 2.5, title="Signal Line", color=color.orange, linewidth=2)
plot(macdHist * 2.5, title="MACD Histogram", color=color.new(color.purple, 50), style=plot.style_columns)

// === Williams %R ===
lengthWR = 14
highestHigh = ta.highest(high, lengthWR)
lowestLow = ta.lowest(low, lengthWR)
williamsR = ((highestHigh - close) / (highestHigh - lowestLow)) * -100

wrShift = -20
plot(williamsR + wrShift, title="Williams %R (Shifted)", color=color.aqua)
hline(wrShift, "WR Overbought", color=color.new(color.yellow, 0), linewidth=2)
hline(-60 + wrShift, "WR Oversold", color=color.new(color.yellow, 0), linewidth=2)

// === Stochastic Oscillator (3,5,5) ===
kPeriod = 5
dPeriod = 3
smoothK = 3
stochK = ta.sma(ta.stoch(close, high, low, kPeriod), smoothK)
stochD = ta.sma(stochK, dPeriod)

plot(stochK - 250, title="Stoch %K (Shifted)", color=color.red)
plot(stochD - 250, title="Stoch %D (Shifted)", color=color.blue)

// Add Stochastic bands
hline(-170, "Stoch Overbought", color=color.new(color.green, 0), linewidth=2)
hline(-230, "Stoch Oversold", color=color.new(color.green, 0), linewidth=2)
