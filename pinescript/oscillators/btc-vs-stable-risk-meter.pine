//@version=5
indicator("BTC vs Stable Risk Meter", shorttitle="BTC-Stable Î”", overlay=false)

style = input.string("Line", "Stile", options=["Line", "Columns", "Histogram"])

btc  = request.security("CRYPTOCAP:BTC.D", timeframe.period, close)
stbl = request.security("CRYPTOCAP:STABLE.C.D", timeframe.period, close)
diff = btc - stbl

col  = diff > 0 ? color.green : color.red

plot_style = style == "Columns"   ? plot.style_columns   :
             style == "Histogram" ? plot.style_histogram :
             plot.style_line

plot(diff, "Diff", col, 2, plot_style)
hline(0, "Zero", color.gray, hline.style_dashed)
bgcolor(diff > 0 ? color.new(color.green, 95) : color.new(color.red, 95))
