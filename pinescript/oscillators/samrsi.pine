//@version=6
//Developed by Sampath on 08-Nov-2025
indicator("SamRSI", shorttitle="SamRSI9", precision=0)

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ðŸ§© Inputs
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

RSI1Length = input.int(14, minval=1, title="1st RSI Length : ")
RSI1TF = input.timeframe("", title="1st RSI Timeframe : ")

showRSI2 = input.bool(true, title="Show 2nd RSI? ")
RSI2Length = input.int(21, minval=1, title="2nd RSI Length : ")
RSI2TF = input.timeframe("", title="2nd RSI Timeframe : ")

upLine = input.int(60, minval=50, maxval=90, title="Upper Line Value : ")
lowLine = input.int(40, minval=10, maxval=50, title="Lower Line Value : ")

src = input.source(close, "Source : ")
useCurrentRes = input.bool(true, title="Use Current Chart Resolution? ")

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ðŸ“ˆ RSI Calculations
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
rsi_calc(src, length) =>
    up = ta.rma(math.max(ta.change(src), 0), length)
    down = ta.rma(-math.min(ta.change(src), 0), length)
    rsi = down == 0 ? 100 : up == 0 ? 0 : 100 - (100 / (1 + up / down))
    rsi

outRSI1 = request.security(syminfo.tickerid, RSI1TF, rsi_calc(src, RSI1Length), lookahead = barmerge.lookahead_on)
outRSI2 = request.security(syminfo.tickerid, RSI2TF, rsi_calc(src, RSI2Length), lookahead = barmerge.lookahead_on)

// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// ðŸŽ¨ Plots
// â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
plot(outRSI1, title="1st RSI : ", style=plot.style_line, linewidth=1, color=color.new(color.green, 0))
plot(showRSI2 ? outRSI2 : na, title="2nd RSI : ", style=plot.style_line, linewidth=1, color=color.new(color.red, 0))

p1 = plot(upLine, title="Upper Line : ", linestyle = plot.linestyle_dashed, linewidth=1, color=color.new(#3a3b41, 0))
p0 = plot(50, title="Mid Line : ", linestyle = plot.linestyle_dashed, linewidth=1, color=color.new(#3a3b41, 0))
p2 = plot(lowLine, title="Lower Line : ", linestyle = plot.linestyle_dashed, linewidth=1, color=color.new(#3a3b41, 0))
