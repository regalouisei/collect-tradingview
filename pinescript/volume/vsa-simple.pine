//@version=6
indicator('VSA', overlay = false)

maLength = input.int(30, title = 'MA Length', minval = 1)
ma = ta.sma(volume, maLength)

volColor = color.blue
if volume > ma * 3
    volColor := color.red
    volColor
else if volume > ma * 1.5
    volColor := color.orange
    volColor
else if volume > ma * 0.5
    volColor := color.green
    volColor

plot(volume, title = 'Volume', style = plot.style_columns, color = volColor)
