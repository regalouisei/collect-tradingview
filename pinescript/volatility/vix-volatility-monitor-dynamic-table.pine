// This Pine Script® code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/
// © Snowkite

//@version=6
indicator("VIX", overlay=true)
plot(close)

// Récupération du VIX
vix = request.security("TVC:VIX", timeframe.period, close)

// Définition des couleurs selon les zones
bg =vix < 15  ? color.new(color.yellow, 0) :vix < 30  ? color.new(color.green, 0)  :color.new(color.red, 0)

                        // Création du tableau
var table vixTable = table.new(position.bottom_center, 1, 1, border_width=1)

                        // Mise à jour du tableau
if barstate.islast
    table.cell(
                                    vixTable,
                                            0, 0,
                                                    "VIX : " + str.tostring(vix, format.mintick),
                                                            text_color = color.black,
                                                                    text_size  = size.small,
                                                                            bgcolor    = bg
                                                                                )
