// This Pine Script® code is subject to the terms of the Mozilla Public License 2.0 at https://mozilla.org/MPL/2.0/
// © ZulSyirah

//@version=5
indicator("Highest Weekly Volume (3M & 6M)", overlay=true)

// === SETTINGS ===
weeks_3m = 13     // Approx 3 months
weeks_6m = 26     // Approx 6 months

// === GET WEEKLY DATA ===
weeklyVol = request.security(syminfo.tickerid, "W", volume)
weeklyHighVol3 = request.security(syminfo.tickerid, "W", ta.highest(volume, weeks_3m))
weeklyHighVol6 = request.security(syminfo.tickerid, "W", ta.highest(volume, weeks_6m))

// === CONDITIONS ===
isHighest3M = weeklyVol == weeklyHighVol3
isHighest6M = weeklyVol == weeklyHighVol6

// === PLOT SIGNALS ===
plotshape(isHighest3M, 
     title="Highest Weekly Volume 3M", 
     location=location.abovebar, 
     color=color.orange, 
     style=shape.triangleup, 
     size=size.small, 
     text="3M")

plotshape(isHighest6M, 
     title="Highest Weekly Volume 6M", 
     location=location.abovebar, 
     color=color.red, 
     style=shape.triangleup, 
     size=size.small, 
     text="6M")
